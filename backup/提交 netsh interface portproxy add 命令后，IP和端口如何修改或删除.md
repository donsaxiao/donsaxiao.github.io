### é—®ï¼šæäº¤ netshÂ interfaceÂ portproxyÂ addÂ å‘½ä»¤åï¼Œå¦‚ä½•ä¿®æ”¹æˆ–åˆ é™¤ä¹‹å‰æäº¤çš„ IP å’Œç«¯å£ï¼Ÿ

åœ¨ Windows çš„ `netsh interface portproxy` ä¸­ï¼Œä¿®æ”¹å·²å­˜åœ¨çš„è§„åˆ™ä¸»è¦ä½¿ç”¨ **`set`** å‘½ä»¤ï¼Œæˆ–è€…é‡‡ç”¨ **â€œå…ˆåˆ é™¤åæ·»åŠ â€** çš„ç­–ç•¥ã€‚

é’ˆå¯¹ä½ ä¹‹å‰æäº¤çš„ `v6tov4`ï¼ˆIPv6 ç›‘å¬è½¬ IPv4 ç›®æ ‡ï¼‰è§„åˆ™ï¼Œä»¥ä¸‹æ˜¯å…·ä½“çš„ä¿®æ”¹æ–¹æ³•ï¼š

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ `set` å‘½ä»¤ï¼ˆæ¨èï¼Œç›´æ¥ä¿®æ”¹ï¼‰

è¿™æ˜¯æœ€ç›´æ¥çš„æ–¹æ³•ï¼Œå®ƒä¼šä¿®æ”¹ç°æœ‰çš„æ˜ å°„å…³ç³»ï¼Œè€Œä¸éœ€è¦é‡æ–°åˆ›å»ºã€‚

**å‘½ä»¤è¯­æ³•ï¼š**
```cmd
netsh interface portproxy set v6tov4 listenaddress=<åŸæ¥çš„ç›‘å¬IP> listenport=<åŸæ¥çš„ç›‘å¬ç«¯å£> connectaddress=<æ–°çš„ç›®æ ‡IP> connectport=<æ–°çš„ç›®æ ‡ç«¯å£>
```

**æ“ä½œæ­¥éª¤ï¼š**
å‡è®¾ä½ æƒ³æŠŠåŸæ¥æŒ‡å‘ `192.168.100.104:80` çš„æµé‡ï¼Œä¿®æ”¹ä¸ºæŒ‡å‘ `192.168.100.105:8080`ï¼Œä½ éœ€è¦æ‰§è¡Œï¼š

1.  **æŸ¥çœ‹åŸè§„åˆ™**ï¼šç¡®è®¤åŸæ¥çš„ `listenaddress` å’Œ `listenport` æ˜¯ä»€ä¹ˆï¼ˆè™½ç„¶ä½ ä¸æ”¹å®ƒä»¬ï¼Œä½†å‘½ä»¤é‡Œå¿…é¡»å†™ä¸Šï¼‰ã€‚
2.  **æ‰§è¡Œä¿®æ”¹å‘½ä»¤**ï¼š
    ```cmd
    netsh interface portproxy set v6tov4 listenaddress=2001:db8::100 listenport=8080 connectaddress=192.168.100.105 connectport=8080
    ```
    > **æ³¨æ„**ï¼š`set` å‘½ä»¤ä¸­å¿…é¡»åŒ…å«åŸæ¥çš„ `listenaddress` å’Œ `listenport` ä½œä¸ºâ€œå®šä½æ¡ä»¶â€ï¼Œç„¶åå†™ä¸Šä½ æƒ³ä¿®æ”¹æˆçš„ `connectaddress` å’Œ `connectport`ã€‚

---

### æ–¹æ³•äºŒï¼šå…ˆ `delete` å† `add`ï¼ˆé€šç”¨ï¼Œæœ€ç¨³å¦¥ï¼‰

å¦‚æœ `set` å‘½ä»¤åœ¨æŸäº›æ—§ç‰ˆæœ¬ Windows ä¸­æŠ¥é”™ï¼Œæˆ–è€…ä½ æƒ³ä¿®æ”¹ç›‘å¬ç«¯å£ï¼ˆlistenportï¼‰ï¼Œè¿™ç§æ–¹æ³•æœ€ä¿é™©ã€‚

**å‘½ä»¤è¯­æ³•ï¼š**
```cmd
# 1. åˆ é™¤æ—§è§„åˆ™
netsh interface portproxy delete v6tov4 listenaddress=<IP> listenport=<ç«¯å£>

# 2. æ·»åŠ æ–°è§„åˆ™
netsh interface portproxy add v6tov4 listenaddress=<IP> listenport=<ç«¯å£> connectaddress=<æ–°IP> connectport=<æ–°ç«¯å£>
```

**æ“ä½œæ­¥éª¤ï¼š**
```cmd
# åˆ é™¤ä¹‹å‰æ·»åŠ çš„è§„åˆ™
netsh interface portproxy delete v6tov4 listenaddress=2001:db8::100 listenport=8080

# æ·»åŠ ä¿®æ”¹åçš„æ–°è§„åˆ™
netsh interface portproxy add v6tov4 listenaddress=2001:db8::100 listenport=8080 connectaddress=192.168.100.105 connectport=8080
```

---

### ğŸ’¡ å¸¸ç”¨è¾…åŠ©å‘½ä»¤

åœ¨ä¿®æ”¹ä¹‹å‰ï¼Œä½ å¯èƒ½éœ€è¦æŸ¥çœ‹å½“å‰çš„é…ç½®åˆ—è¡¨ï¼š

*   **æŸ¥çœ‹æ‰€æœ‰è§„åˆ™ï¼š**
    ```cmd
    netsh interface portproxy show all
    ```
*   **æ¸…é™¤æ‰€æœ‰è§„åˆ™ï¼ˆæ…ç”¨ï¼‰ï¼š**
    ```cmd
    netsh interface portproxy reset
    ```

### âš ï¸ ç‰¹åˆ«æé†’
1.  **ç®¡ç†å‘˜æƒé™**ï¼šæ— è®ºä½¿ç”¨ `set` è¿˜æ˜¯ `delete`ï¼Œéƒ½å¿…é¡»åœ¨**ç®¡ç†å‘˜æƒé™**çš„ CMD æˆ– PowerShell ä¸­è¿è¡Œã€‚
2.  **é˜²ç«å¢™**ï¼šå¦‚æœä½ ä¿®æ”¹äº†ç›‘å¬ç«¯å£ï¼ˆä¾‹å¦‚ä» 8080 æ”¹ä¸º 8081ï¼‰ï¼Œè®°å¾—æ£€æŸ¥ Windows é˜²ç«å¢™æ˜¯å¦æ”¾è¡Œäº†æ–°çš„ç«¯å£ã€‚
3.  **IPv6 æ ¼å¼**ï¼šç¡®ä¿ä½ çš„ IPv6 åœ°å€æ ¼å¼æ­£ç¡®ï¼Œå¦‚æœåœ°å€åŒ…å«ç¼©å†™ï¼ˆå¦‚ `::`ï¼‰ï¼Œæœ€å¥½å†™å®Œæ•´æˆ–ä¿æŒä¸æ·»åŠ æ—¶ä¸€è‡´ã€‚